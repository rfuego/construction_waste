# Модель  для автоматического распознавания видов отходов строительства и сноса с использованием React with Fast API

## 1. О чем этот проект?

Команда Fuego представляет модель и интерфейс для автоматического распознавания видов отходов строительства и сноса. В качестве решения использована модель YOLOv8, обученная на датасете, собранном в сервисе Roboflow, и дополнительно дообученная на данных, которые получены с камер видеонаблюдения.

Разработанное решение позволяет классифицировать отходы строительного мусора и сноса в кузове спецтехники, и предотвратить подмену заявленного типа, который указан при запуске машины в рейс.

## 2. Почему он необходим?

В настоящее время для Департамента, как и для города в целом, одной из актуальных проблем обращения с отходами строительства является их подмена и несанкционированный сброс в непредназначенных для этого местах недобросовестными перевозчиками. Определение вида отходов в кузове самосвалов с помощью анализа видеопотока с камер видеонаблюдения и других объективных средств контроля позволит обеспечить своевременное выявление вида перевозимых отходов строительства и значительно сократить случаи подлогов, оплаты некорректных перевозок и нелегальных сбросов отходов в городе. 

Необходимо реализовать программный модуль на основе искусственного интеллекта, который будет в состоянии проводить анализ содержимого кузова самосвала, перевозящего отходы строительства и сноса, и автоматически определять какой тип отходов он перевозит.

## 3. Концепт

Прежде чем углубиться в проект, я дам вам обзор основных концепций и технологий, которые были использованы, а также ссылки на ресурсы, где вы можете узнать об этом больше.

### 3.1 Стэк технологий

- **YOLOv8**
- **Pytorch**
- **React**
- **OpenCV**
- **Python**
- **FastAPI**
### 3.2 React как "интерфейсный" интерфейс 

Возможно, вы уже слышали о React, поэтому можете пропустить этот раздел. 

[React](https://reactjs.org/) - это библиотека JavaScript для создания пользовательского интерфейса. Она была создана Facebook (она же Meta) примерно в 2013 году. 

Насколько я смог узнать во время работы над этим проектом, React работает декларативно, и одна из особенностей, которая делает его классным, заключается в том, что вы можете удалять компоненты, которые имеют свое собственное состояние, и позже могут быть повторно использованы в приложении, которое вы создаете. 

Исходя из чисто серверного опыта, я могу сказать, что было не так уж сложно получить и включить его в то, чего я хотел достичь, а именно создать простой пользовательский интерфейс, который позволит мне писать текст и ждать, пока сервер сгенерирует изображение.

#### 3.2.1 Resources
- [React Docs](https://reactjs.org/docs/getting-started.html)

### 3.3 FastAPI as backend

Здесь становится интереснее, когда появляется серверная часть, и я обнаружил все, что вы можете делать, работая с FastAPI. 

Как указано на их веб-сайте: 
> > Fast API - это современный, быстрый (высокопроизводительный) веб-фреймворк для создания API с Python 3.7+ на основе стандартных подсказок типа Python.

Что мне нравится в Fast API, так это возможность быстро создавать API без особых хлопот. Мне понравился тот факт, что я мог определять маршруты и сразу же проверять их, просматривая документы API, предоставленные Swagger. 

В дополнение к этому, вы могли бы определить свою модель данных как класс, используя педантичное наследование от базовой модели.

#### 3.3.1 Resources
- [FastAPI Docs](https://fastapi.tiangolo.com/)
- [FastAPI Tutorial - User Guide](https://fastapi.tiangolo.com/tutorial/)

## Project Structure

```
├── backend                          ----> Contains all the backend FastAPI work
│   ├── dev-requirements.txt
│   ├── main.py                      ----> Endpoints definition
│   ├── requirements.txt
│   ├── run_uvicorn.py
│   ├── schemas.py                   ----> Define your data models here
│   └── services.py                  ----> Define all the heavy load work to be done here.
|                                          in this case all the HuggingFace setup and work for generating the 
|                                          stable diffusion image
└── frontend
    ├── README.md
    ├── package-lock.json
    ├── package.json
    ├── public
    │   ├── index.html
    │   ├── manifest.json
    │   └── robots.txt
    └── src
        ├── App.jsx                 ---> Main App definition where you will embed your components as well
        ├── components
        │   ├── ErrorMessage.jsx
        │   ├── GenImage.jsx        ---> Definition of the UI components as well as the call to the backend 
                                         using fetch API
        │   └── Header.jsx          ---> Minimal Header definition
        └── index.js
```

## Как работает алгоритм?

Fill the parameters as follows:

- Нейросеть в режиме реального времени идентифицирует мусоровозы по их контурам и производит предобработку изображений с комплексов фотовидеофиксации

- Изображение с видеопотока поступает в React, далее на стороне сервера обрабатывается FastAPI и нейронной сети Yolov8, и поступает обратно в интерфейс пользователя в размеченном виде.
  
<div align="center">
  <img src="https://github.com/rfuego/construction_waste/assets/59581171/f3cdead5-5018-4860-8cae-b2b857538f3b" alt="banner2" border="0" /></a>
</div>
